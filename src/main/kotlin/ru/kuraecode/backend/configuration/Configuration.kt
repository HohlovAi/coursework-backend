package ru.kuraecode.backend.configuration

import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.CommandLineRunner
import org.springframework.context.annotation.Bean
import org.springframework.context.annotation.Configuration
import org.springframework.security.config.annotation.authentication.configurers.provisioning.UserDetailsManagerConfigurer
import org.springframework.security.core.userdetails.UserDetails
import org.springframework.security.core.userdetails.UserDetailsService
import org.springframework.security.core.userdetails.UsernameNotFoundException
import org.springframework.security.crypto.password.PasswordEncoder
import ru.kuraecode.backend.domain.BookKeepingInfo
import ru.kuraecode.backend.domain.Person
import ru.kuraecode.backend.domain.User
import ru.kuraecode.backend.repository.BookKeepingInfoRepository
import ru.kuraecode.backend.repository.PersonRepository
import ru.kuraecode.backend.repository.UserRepository
import java.math.BigDecimal
import java.time.LocalDate
import java.util.*

@Configuration
class Configuration {

    val names = "Авдей\n        Аверкий\n        Авксентий\n        Агафон\n        Александр\n        Алексей\n        Альберт\n        Альвиан\n        Анатолий\n        Андрей\n        Антон\n        Антонин\n        Анфим\n        Аристарх\n        Аркадий\n        Арсений\n        Артём\n        Артур\n        Архипп\n        Афанасий\n        Богдан\n        Борис\n        Вадим\n        Валентин\n        Валерий\n        Валерьян\n        Варлам\n        Варфоломей\n        Василий\n        Венедикт\n        Вениамин\n        Викентий\n        Виктор\n        Виссарион\n        Виталий\n        Владимир\n        Владислав\n        Владлен\n        Влас\n        Всеволод\n        Вячеслав\n        Гавриил\n        Галактион\n        Геласий\n        Геннадий\n        Георгий\n        Герасим\n        Герман\n        Глеб\n        Гордей\n        Григорий\n        Даниил\n        Демид\n        Демьян\n        Денис\n        Дмитрий\n        Добрыня\n        Евгений\n        Евграф\n        Евдоким\n        Евсей\n        Евстафий\n        Егор\n        Емельян\n        Еремей\n        Ермолай\n        Ефим\n        Ждан\n        Зиновий\n        Иакинф\n        Иван\n        Игнатий\n        Игорь\n        Иларион\n        Илья\n        Иннокентий\n        Ираклий\n        Ириней\n        Исидор\n        Иулиан\n        Касьян\n        Ким\n        Кирилл\n        Климент\n        Кондрат\n        Константин\n        Корнилий\n        Кузьма\n        Куприян\n        Лаврентий\n        Лев\n        Леонид\n        Леонтий\n        Лука\n        Лукий\n        Лукьян\n        Магистриан\n        Макар\n        Максим\n        Марк\n        Мартын\n        Матвей\n        Мелентий\n        Мирон\n        Мирослав\n        Митрофан\n        Михаил\n        Мстислав\n        Мэлор\n        Назар\n        Нестор\n        Никанор\n        Никита\n        Никифор\n        Николай\n        Никон\n        Олег\n        Онисим\n        Павел\n        Пантелеймон\n        Парфений\n        Пётр\n        Платон\n        Порфирий\n        Потап\n        Прокопий\n        Протасий\n        Прохор\n        Разумник\n        Родион\n        Роман\n        Ростислав\n        Руслан\n        Савва\n        Савелий\n        Самуил\n        Святополк\n        Святослав\n        Севастьян\n        Семён\n        Сергей\n        Сильвестр\n        Созон\n        Спиридон\n        Станислав\n        Степан\n        Тарас\n        Тимофей\n        Тимур\n        Тихон\n        Трифон\n        Трофим\n        Фаддей\n        Фёдор\n        Федосей\n        Федот\n        Феликс\n        Феоктист\n        Филат\n        Филипп\n        Фома\n        Харитон\n        Христофор\n        Эдуард\n        Эраст\n        Юлиан\n        Юрий\n        Юстин\n        Яков\n        Якун\n        Ярослав\n        "
            .trim()
            .split("\n")
    val families = ("1\tИванов\n" +
                    "2\tСмирнов\n" +
                    "3\tКузнецов\n" +
                    "4\tПопов\n" +
                    "5\tВасильев\n" +
                    "6\tПетров\n" +
                    "7\tСоколов\n" +
                    "8\tМихайлов\n" +
                    "9\tНовиков\n" +
                    "10\tФедоров\t\n" +
                    "11\tМорозов\t\n" +
                    "12\tВолков\t\n" +
                    "13\tАлексеев\t\n" +
                    "14\tЛебедев\t\n" +
                    "15\tСеменов\t\n" +
                    "16\tЕгоров\t\n" +
                    "17\tПавлов\t\n" +
                    "18\tКозлов\t\n" +
                    "19\tСтепанов\t\n" +
                    "20\tНиколаев\t\n" +
                    "21\tОрлов\t\n" +
                    "22\tАндреев\t\n" +
                    "23\tМакаров\t\n" +
                    "24\tНикитин\t\n" +
                    "25\tЗахаров\t\n" +
                    "26\tЗайцев\t\n" +
                    "27\tСоловьев\t\n" +
                    "28\tБорисов\t\n" +
                    "29\tЯковлев\t\n" +
                    "30\tГригорьев\t\n" +
                    "31\tРоманов\t\n" +
                    "32\tВоробьев\t\n" +
                    "33\tСергеев\t\n" +
                    "34\tКузьмин\t\n" +
                    "35\tФролов\t\n" +
                    "36\tАлександров\t\n" +
                    "37\tДмитриев\t\n" +
                    "38\tКоролев\t\n" +
                    "39\tГусев\t\n" +
                    "40\tКиселев\t\n" +
                    "41\tИльин\t\n" +
                    "42\tМаксимов\t\n" +
                    "43\tПоляков\t\n" +
                    "44\tСорокин\t\n" +
                    "45\tВиноградов\t\n" +
                    "46\tКовалев\t\n" +
                    "47\tБелов\t\n" +
                    "48\tМедведев\t\n" +
                    "49\tАнтонов\t\n" +
                    "50\tТарасов\t\n" +
                    "51\tЖуков\t\n" +
                    "52\tБаранов\t\n" +
                    "53\tФилиппов\t\n" +
                    "54\tКомаров\t\n" +
                    "55\tДавыдов\t\n" +
                    "56\tБеляев\t\n" +
                    "57\tГерасимов\t\n" +
                    "58\tБогданов\t\n" +
                    "59\tОсипов\t\n" +
                    "60\tСидоров\t\n" +
                    "61\tМатвеев\t\n" +
                    "62\tТитов\t\n" +
                    "63\tМарков\t\n" +
                    "64\tМиронов\t\n" +
                    "65\tКрылов\t\n" +
                    "66\tКуликов\t\n" +
                    "67\tКарпов\t\n" +
                    "68\tВласов\t\n" +
                    "69\tМельников\n" +
                    "70\tДенисов\t\n" +
                    "71\tГаврилов\n" +
                    "72\tТихонов\t\n" +
                    "73\tКазаков\t\n" +
                    "74\tАфанасьев\t\n" +
                    "75\tДанилов\t\n" +
                    "76\tСавельев\t\n" +
                    "77\tТимофеев\t\n" +
                    "78\tФомин\t\n" +
                    "79\tЧернов\t\n" +
                    "80\tАбрамов\t\n" +
                    "81\tМартынов\t\n" +
                    "82\tЕфимов\t\n" +
                    "83\tФедотов\t\n" +
                    "84\tЩербаков\t\n" +
                    "85\tНазаров\t\n" +
                    "86\tКалинин\t\n" +
                    "87\tИсаев\t\n" +
                    "88\tЧернышев\t\n" +
                    "89\tБыков\t\n" +
                    "90\tМаслов\t\n" +
                    "91\tРодионов\t\n" +
                    "92\tКоновалов\t\n" +
                    "93\tЛазарев\t\n" +
                    "94\tВоронин\t\n" +
                    "95\tКлимов\t\n" +
                    "96\tФилатов\t\n" +
                    "97\tПономарев\t\n" +
                    "98\tГолубев\t\n" +
                    "99\tКудрявцев\t\n" +
                    "100\tПрохоров\t\n" +
                    "101\tНаумов\t\n" +
                    "102\tПотапов\t\n" +
                    "103\tЖуравлев\n" +
                    "104\tОвчинников\t\n" +
                    "105\tТрофимов\t\n" +
                    "106\tЛеонов\t\n" +
                    "107\tСоболев\t\n" +
                    "108\tЕрмаков\t\n" +
                    "109\tКолесников\t\n" +
                    "110\tГончаров\t\n" +
                    "111\tЕмельянов\t\n" +
                    "112\tНикифоров\t\n" +
                    "113\tГрачев\t\n" +
                    "114\tКотов\t\n" +
                    "115\tГришин\t\n" +
                    "116\tЕфремов\t\n" +
                    "117\tАрхипов\t\n" +
                    "118\tГромов\t\n" +
                    "119\tКириллов\t\n" +
                    "120\tМалышев\t\n" +
                    "121\tПанов\t\n" +
                    "122\tМоисеев\t\n" +
                    "123\tРумянцев\t\n" +
                    "124\tАкимов\t\n" +
                    "125\tКондратьев\t\n" +
                    "126\tБирюков\n" +
                    "127\tГорбунов\n" +
                    "128\tАнисимов\t\n" +
                    "129\tЕремин\t\n" +
                    "130\tТихомиров\t\n" +
                    "131\tГалкин\t\n" +
                    "132\tЛукьянов\t\n" +
                    "133\tМихеев\t\n" +
                    "134\tСкворцов\t\n" +
                    "135\tЮдин\t\n" +
                    "136\tБелоусов\t\n" +
                    "137\tНестеров\t\n" +
                    "138\tСимонов\t\n" +
                    "139\tПрокофьев\t\n" +
                    "140\tХаритонов\t\n" +
                    "141\tКнязев\t\n" +
                    "142\tЦветков\t\n" +
                    "143\tЛевин\t\n" +
                    "144\tМитрофанов\t\n" +
                    "145\tВоронов\t\n" +
                    "146\tАксенов\t\n" +
                    "147\tСофронов\t\n" +
                    "148\tМальцев\t\n" +
                    "149\tЛогинов\t\n" +
                    "150\tГоршков\t\n" +
                    "151\tСавин\t\n" +
                    "152\tКраснов\t\n" +
                    "153\tМайоров\t\n" +
                    "154\tДемидов\t\n" +
                    "155\tЕлисеев\t\n" +
                    "156\tРыбаков\t\n" +
                    "157\tСафонов\t\n" +
                    "158\tПлотников\t\n" +
                    "159\tДемин\t\n" +
                    "160\tХохлов\t\n" +
                    "161\tФадеев\t\n" +
                    "162\tМолчанов\t\n" +
                    "163\tИгнатов\t\n" +
                    "164\tЛитвинов\t\n" +
                    "165\tЕршов\t\n" +
                    "166\tУшаков\t\n" +
                    "167\tДементьев\t\n" +
                    "168\tРябов\t\n" +
                    "169\tМухин\t\n" +
                    "170\tКалашников\t\n" +
                    "171\tЛеонтьев\t\n" +
                    "172\tЛобанов\n" +
                    "173\tКузин\t\n" +
                    "174\tКорнеев\t\n" +
                    "175\tЕвдокимов\t\n" +
                    "176\tБородин\t\n" +
                    "177\tПлатонов\t\n" +
                    "178\tНекрасов\t\n" +
                    "179\tБалашов\t\n" +
                    "180\tБобров\t\n" +
                    "181\tЖданов\t\n" +
                    "182\tБлинов\t\n" +
                    "183\tИгнатьев\t\n" +
                    "184\tКоротков\t\n" +
                    "185\tМуравьев\t\n" +
                    "186\tКрюков\t\n" +
                    "187\tБеляков\t\n" +
                    "188\tБогомолов\n" +
                    "189\tДроздов\t\n" +
                    "190\tЛавров\t\n" +
                    "191\tЗуев\t\n" +
                    "192\tПетухов\t\n" +
                    "193\tЛарин\t\n" +
                    "194\tНикулин\n" +
                    "195\tСеров\t\n" +
                    "196\tТерентьев\t\n" +
                    "197\tЗотов\t\n" +
                    "198\tУстинов\t\n" +
                    "199\tФокин\t\n" +
                    "200\tСамойлов\t\n" +
                    "201\tКонстантинов\t\n" +
                    "202\tСахаров\t\n" +
                    "203\tШишкин\t\n" +
                    "204\tСамсонов\t\n" +
                    "205\tЧеркасов\t\n" +
                    "206\tЧистяков\t\n" +
                    "207\tНосов\t\n" +
                    "208\tСпиридонов\t\n" +
                    "209\tКарасев\t\n" +
                    "210\tАвдеев\t\n" +
                    "211\tВоронцов\t\n" +
                    "212\tЗверев\t\n" +
                    "213\tВладимиров\t\n" +
                    "214\tСелезнев\t\n" +
                    "215\tНечаев\t\n" +
                    "216\tКудряшов\t\n" +
                    "217\tСедов\t\n" +
                    "218\tФирсов\t\n" +
                    "219\tАндрианов\t\n" +
                    "220\tПанин\n" +
                    "221\tГоловин\t\n" +
                    "222\tТерехов\t\n" +
                    "223\tУльянов\t\n" +
                    "224\tШестаков\t\n" +
                    "225\tАгеев\t\n" +
                    "226\tНиконов\t\n" +
                    "227\tСеливанов\t\n" +
                    "228\tБаженов\t\n" +
                    "229\tГордеев\t\n" +
                    "230\tКожевников\t\n" +
                    "231\tПахомов\t\n" +
                    "232\tЗимин\t\n" +
                    "233\tКостин\t\n" +
                    "234\tШироков\t\n" +
                    "235\tФилимонов\t\n" +
                    "236\tЛарионов\t\n" +
                    "237\tОвсянников\t\n" +
                    "238\tСазонов\t\n" +
                    "239\tСуворов\t\n" +
                    "240\tНефедов\t\n" +
                    "241\tКорнилов\t\n" +
                    "242\tЛюбимов\t\n" +
                    "243\tЛьвов\t\n" +
                    "244\tГорбачев\t\n" +
                    "245\tКопылов\t\n" +
                    "246\tЛукин\t\n" +
                    "247\tТокарев\t\n" +
                    "248\tКулешов\t\n" +
                    "249\tШилов\t\n" +
                    "250\tБольшаков\t\n" +
                    "251\tПанкратов\n" +
                    "252\tРодин\n" +
                    "253\tШаповалов\t\n" +
                    "254\tПокровский\t\n" +
                    "255\tБочаров\t\n" +
                    "256\tНикольский\t\n" +
                    "257\tМаркин\t\n" +
                    "258\tГорелов\t\n" +
                    "259\tАгафонов\t\n" +
                    "260\tБерезин\t\n" +
                    "261\tЕрмолаев\t\n" +
                    "262\tЗубков\t\n" +
                    "263\tКуприянов\t\n" +
                    "264\tТрифонов\t\n" +
                    "265\tМасленников\t\n" +
                    "266\tКруглов\t\n" +
                    "267\tТретьяков\t\n" +
                    "268\tКолосов\t\n" +
                    "269\tРожков\t\n" +
                    "270\tАртамонов\t\n" +
                    "271\tШмелев\t\n" +
                    "272\tЛаптев\t\n" +
                    "273\tЛапшин\t\n" +
                    "274\tФедосеев\t\n" +
                    "275\tЗиновьев\t\n" +
                    "276\tЗорин\t\n" +
                    "277\tУткин\t\n" +
                    "278\tСтоляров\t\n" +
                    "279\tЗубов\t\n" +
                    "280\tТкачев\t\n" +
                    "281\tДорофеев\t\n" +
                    "282\tАнтипов\t\n" +
                    "283\tЗавьялов\t\n" +
                    "284\tСвиридов\t\n" +
                    "285\tЗолотарев\n" +
                    "286\tКулаков\t\n" +
                    "287\tМещеряков\t\n" +
                    "288\tМакеев\t\n" +
                    "289\tДьяконов\t\n" +
                    "290\tГуляев\t\n" +
                    "291\tПетровский\t\n" +
                    "292\tБондарев\t\n" +
                    "293\tПоздняков\t\n" +
                    "294\tПанфилов\t\n" +
                    "295\tКочетков\t\n" +
                    "296\tСуханов\t\n" +
                    "297\tРыжов\t\n" +
                    "298\tСтаростин\t\n" +
                    "299\tКалмыков\t\n" +
                    "300\tКолесов\t\n" +
                    "301\tЗолотов\t\n" +
                    "302\tКравцов\t\n" +
                    "303\tСубботин\t\n" +
                    "304\tШубин\t\n" +
                    "305\tЩукин\t\n" +
                    "306\tЛосев\t\n" +
                    "307\tВинокуров\t\n" +
                    "308\tЛапин\t\n" +
                    "309\tПарфенов\t\n" +
                    "310\tИсаков\t\n" +
                    "311\tГолованов\t\n" +
                    "312\tКоровин\t\n" +
                    "313\tРозанов\t\n" +
                    "314\tАртемов\t\n" +
                    "315\tКозырев\t\n" +
                    "316\tРусаков\t\n" +
                    "317\tАлешин\t\n" +
                    "318\tКрючков\t\n" +
                    "319\tБулгаков\t\n" +
                    "320\tКошелев\t\n" +
                    "321\tСычев\t\n" +
                    "322\tСиницын\t\n" +
                    "323\tЧерных\t\n" +
                    "324\tРогов\t\n" +
                    "325\tКононов\t\n" +
                    "326\tЛаврентьев\t\n" +
                    "327\tЕвсеев\t\n" +
                    "328\tПименов\t\n" +
                    "329\tПантелеев\t\n" +
                    "330\tГорячев\t\n" +
                    "331\tАникин\t\n" +
                    "332\tЛопатин\t\n" +
                    "333\tРудаков\t\n" +
                    "334\tОдинцов\n" +
                    "335\tСеребряков\n" +
                    "336\tПанков\t\n" +
                    "337\tДегтярев\t\n" +
                    "338\tОрехов\t\n" +
                    "339\tЦарев\t\n" +
                    "340\tШувалов\t\n" +
                    "341\tКондрашов\t\n" +
                    "342\tГорюнов\t\n" +
                    "343\tДубровин\n" +
                    "344\tГоликов\t\n" +
                    "345\tКурочкин\n" +
                    "346\tЛатышев\t\n" +
                    "347\tСевастьянов\n" +
                    "348\tВавилов\t\n" +
                    "349\tЕрофеев\n" +
                    "350\tСальников\t\n" +
                    "351\tКлюев\t\n" +
                    "352\tНосков\n" +
                    "353\tОзеров\t\n" +
                    "354\tКольцов\n" +
                    "355\tКомиссаров\n" +
                    "356\tМеркулов\t\n" +
                    "357\tКиреев\t\n" +
                    "358\tХомяков\t\n" +
                    "359\tБулатов\t\n" +
                    "360\tАнаньев\t\n" +
                    "361\tБуров\t\n" +
                    "362\tШапошников\t\n" +
                    "363\tДружинин\t\n" +
                    "364\tОстровский\t\n" +
                    "365\tШевелев\t\n" +
                    "366\tДолгов\t\n" +
                    "367\tСуслов\t\n" +
                    "368\tШевцов\t\n" +
                    "369\tПастухов\t\n" +
                    "370\tРубцов\t\n" +
                    "371\tБычков\t\n" +
                    "372\tГлебов\t\n" +
                    "373\tИльинский\t\n" +
                    "374\tУспенский\t\n" +
                    "375\tДьяков\t\n" +
                    "376\tКочетов\t\n" +
                    "377\tВишневский\t\n" +
                    "378\tВысоцкий\t\n" +
                    "379\tГлухов\t\n" +
                    "380\tДубов\t\n" +
                    "381\tБессонов\t\n" +
                    "382\tСитников\t\n" +
                    "383\tАстафьев\t\n" +
                    "384\tМешков\t\n" +
                    "385\tШаров\t\n" +
                    "386\tЯшин\t\n" +
                    "387\tКозловский\t\n" +
                    "388\tТуманов\t\n" +
                    "389\tБасов\t\n" +
                    "390\tКорчагин\t\n" +
                    "391\tБолдырев\n" +
                    "392\tОлейников\t\n" +
                    "393\tЧумаков\t\n" +
                    "394\tФомичев\t\n" +
                    "395\tГубанов\t\n" +
                    "396\tДубинин\t\n" +
                    "397\tШульгин\t\n" +
                    "398\tКасаткин\t\n" +
                    "399\tПирогов\t\n" +
                    "400\tСемин\n" +
                    "401\tТрошин\n" +
                    "402\tГорохов\t\n" +
                    "403\tСтариков\t\n" +
                    "404\tЩеглов\t\n" +
                    "405\tФетисов\t\n" +
                    "406\tКолпаков\t\n" +
                    "407\tЧесноков\t\n" +
                    "408\tЗыков\t\n" +
                    "409\tВерещагин\t\n" +
                    "410\tМинаев\n" +
                    "411\tРуднев\t\n" +
                    "412\tТроицкий\t\n" +
                    "413\tОкулов\t\n" +
                    "414\tШиряев\t\n" +
                    "415\tМалинин\t\n" +
                    "416\tЧерепанов\n" +
                    "417\tИзмайлов\t\n" +
                    "418\tАлехин\t\n" +
                    "419\tЗеленин\t\n" +
                    "420\tКасьянов\t\n" +
                    "421\tПугачев\t\n" +
                    "422\tПавловский\t\n" +
                    "423\tЧижов\t\n" +
                    "424\tКондратов\t\n" +
                    "425\tВоронков\t\n" +
                    "426\tКапустин\t\n" +
                    "427\tСотников\t\n" +
                    "428\tДемьянов\t\n" +
                    "429\tКосарев\t\n" +
                    "430\tБеликов\t\n" +
                    "431\tСухарев\t\n" +
                    "432\tБелкин\t\n" +
                    "433\tБеспалов\t\n" +
                    "434\tКулагин\t\n" +
                    "435\tСавицкий\t\n" +
                    "436\tЖаров\t\n" +
                    "437\tХромов\t\n" +
                    "438\tЕремеев\t\n" +
                    "439\tКарташов\t\n" +
                    "440\tАстахов\t\n" +
                    "441\tРусанов\t\n" +
                    "442\tСухов\t\n" +
                    "443\tВешняков\t\n" +
                    "444\tВолошин\n" +
                    "445\tКозин\t\n" +
                    "446\tХудяков\t\n" +
                    "447\tЖилин\t\n" +
                    "448\tМалахов\n" +
                    "449\tСизов\t\n" +
                    "450\tЕжов\t\n" +
                    "451\tТолкачев\n" +
                    "452\tАнохин\t\n" +
                    "453\tВдовин\t\n" +
                    "454\tБабушкин\n" +
                    "455\tУсов\t\n" +
                    "456\tЛыков\t\n" +
                    "457\tГорлов\t\n" +
                    "458\tКоршунов\t\n" +
                    "459\tМаркелов\t\n" +
                    "460\tПостников\t\n" +
                    "461\tЧерный\t\n" +
                    "462\tДорохов\t\n" +
                    "463\tСвешников\t\n" +
                    "464\tГущин\t\n" +
                    "465\tКалугин\t\n" +
                    "466\tБлохин\t\n" +
                    "467\tСурков\t\n" +
                    "468\tКочергин\t\n" +
                    "469\tГреков\t\n" +
                    "470\tКазанцев\t\n" +
                    "471\tШвецов\n" +
                    "472\tЕрмилов\t\n" +
                    "473\tПарамонов\t\n" +
                    "474\tАгапов\t\n" +
                    "475\tМинин\t\n" +
                    "476\tКорнев\t\n" +
                    "477\tЧерняев\t\n" +
                    "478\tГуров\t\n" +
                    "479\tЕрмолов\t\n" +
                    "480\tСомов\t\n" +
                    "481\tДобрынин\t\n" +
                    "482\tБарсуков\t\n" +
                    "483\tГлушков\t\n" +
                    "484\tЧеботарев\t\n" +
                    "485\tМосквин\t\n" +
                    "486\tУваров\t\n" +
                    "487\tБезруков\t\n" +
                    "488\tМуратов\t\n" +
                    "489\tРаков\t\n" +
                    "490\tСнегирев\n" +
                    "491\tГладков\t\n" +
                    "492\tЗлобин\t\n" +
                    "493\tМоргунов\t\n" +
                    "494\tПоликарпов\t\n" +
                    "495\tРябинин\t\n" +
                    "496\tСудаков\t\n" +
                    "497\tКукушкин\t\n" +
                    "498\tКалачев\n" +
                    "499\tГрибов\t\n" +
                    "500\tЕлизаров\t\n" +
                    "501\tЗвягинцев\t\n" +
                    "502\tКорольков\t\n" +
                    "503\tФедосов")
            .replace("\\d".toRegex(), "").replace("\t", "").split("\n").map { it.trim() }

    @Bean
    fun ownUserDetailsService(@Autowired userRepository: UserRepository): UserDetailsService {
        return UserDetailsService {
            login -> userRepository.findByLogin(login)
        }
    }

    @Bean
    fun commandLineArguments(@Autowired bookKeepingInfoRepository: BookKeepingInfoRepository,
                             @Autowired personRepository: PersonRepository,
                             @Autowired userRepository: UserRepository,
                             @Autowired passwordEncoder: PasswordEncoder) : CommandLineRunner {
        return CommandLineRunner { _ ->

            val user = User(id = null, login = "user", password = passwordEncoder.encode("user"), isEnable = true, email = "kek@gmail.com")
            userRepository.save(user)

            (0..1000).toList()
                    .forEach { personNumber ->
                        val person = personRepository.save(Person(
                                id = null,
                                firstName = names[Random().nextInt(names.size)].trim(),
                                lastName = families[Random().nextInt(families.size)]
                        ))
                        (0..20L).toList()
                                .forEach {
                                    val save = bookKeepingInfoRepository.save(BookKeepingInfo(
                                            id = null,
                                            structuralSubdivision = "OneStructal",
                                            fixSalary = BigDecimal(Random().nextInt(10000)),
                                            dayWorks = Random().nextInt(30),
                                            dayWorksExpect = LocalDate.now().minusMonths(it).lengthOfMonth(),
                                            dayStart = LocalDate.now().minusMonths(it).withDayOfMonth(1),
                                            dayEnd = LocalDate.now().minusMonths(it).withDayOfMonth(LocalDate.now().minusMonths(it).lengthOfMonth()),
                                            personId = person.id
                                    ))
                                    person.bookKeepingInfo.add(save)
                                }
                        personRepository.save(person)

                    }
        }
    }

}
